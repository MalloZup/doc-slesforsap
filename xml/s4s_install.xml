<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN" "novdocx.dtd"
          [
          <!ENTITY % NOVDOC.DEACTIVATE.IDREF "INCLUDE">
          <!ENTITY % entities SYSTEM "entity-decl.ent">
          %entities;
]>
<chapter id="s4s.installation">
 <title>&sles4sap; Download and Installation</title>
 <para>
&slsreg; optimized for SAP applications is available as a downloadable DVD
image.  The image can be deployed automatically&mdash;including automatic
installation of validated SAP solutions&mdash;or manually.
</para>
 <para>
The current release of the product is based on &sls; 11 Service Pack 1.
</para>
 <!-- ================================================================== -->
 <sect1>
  <title>Download and Installation Preparations</title>

  <procedure>
   <step>
    <para>
    Download the DVD ISO image of &sles4sap; 11 (electronic media kit).</para>
   </step>
   <step>
    <para>
    Burn the image onto a physical DVD and ensure that it is bootable.
    Alternatively, you might use a virtual
    CD-ROM device for installation into a virtual machine.</para>
   </step>
   <step>
    <para>
    (Optional) Get the SAP Business All-in-One or another SAP solution for
    Media-Changer installation media from SAP.
</para>
   </step>
  </procedure>
 </sect1>
 <!-- ================================================================== -->
 <sect1>
  <title>Installation</title>

  <para>
   There are four installation options.
  </para>
  <procedure>
   <step>
    <para>
     Insert the &sles4sap; 11 disk in the DVD drive and boot from the DVD.
</para>
   </step>
   <step>
    <para>
    From the boot screen select:
</para>
    <itemizedlist>
     <listitem>
      <para>"Install SLES for SAP Applications" (for Media-Changer supported
    installation), or</para>
     </listitem>
     <listitem><para>"Install SLES for SAP Applications — Basic" (for automatic
    SLES for SAP Applications installation),</para>
     </listitem>
     <listitem>
      <para>"Install SLES for SAP Applications — Manual Profile via USB" (for
    other installation methods, see below).</para>
     </listitem>
    </itemizedlist>
   </step>
   <step>
    <para>
     Press enter to start the installation.
</para>
   </step>
  </procedure>
 </sect1>
 <!-- ================================================================== -->
 <sect1>
  <title>Installation of &sles4sap;</title>

  <para>
Linux installation will start (partitioning, LVM setup and file system
creation, installation of Linux software packages). This step typically takes
less than 10 minutes (it depends on the hardware, of course). After the
automatic system reboot (do not change the default "Boot from Hard Disk" in
case you left the DVD inserted), you will be prompted to insert the SAP
installation media; then follow the instructions.
</para>
 </sect1>
 <!-- ================================================================== -->
 <sect1>
  <title>Installation of &sles4sap; — Basic</title>

  <para>
The process is similar to &sles4sap;.  Linux installation will start
(partitioning, LVM setup and file system creation, installation of Linux
software packages). This step takes typically less than 10 min. (it depends on
the hardware, of course).  After the automatic system reboot (do not change the
default "Boot from Hard Disk" in case you left the DVD inserted), the system
will provide some dialogs for basic system settings. The Media-Changer will not
start for installation of a validated SAP solution.  If the Media-Changer
should be used to install a validated SAP solution, it can be started manually
from within &yast;.</para>
 </sect1>
 <!-- ================================================================== -->
 <sect1>
  <title>Installation of &sles4sap; — Manual</title>

  <para>
In order to use a custom &ay; script or perform a complete manual installation
and configuration of &sles4sap; select the "Install SLES for SAP Applications
Manual Profile via USB" boot menu entry. Within the boot options change the
<literal>autoyast=usb:///</literal> parameter to the location of a custom &ay;
script to use for automatic installation.  Alternatively, completely remove the
<literal>autoyast=usb:///</literal> parameter to perform a manual installation
and configuration of &sles4sap;.</para>

  <para>
   You can choose the SAP specific pattern, the HA, WebYaST components and SAP
   specific IBM Java as well in this installation scenario, but they are
   <emphasis>not</emphasis> preselected.</para>
 </sect1>
 <!-- ================================================================== -->
 <sect1>
  <title>SAP Specific Instructions</title>
  
  <para>
   For further installation instructions and the SAP specific parts in
   particular, refer to the SAP Installation Guide (the "Cookbook").</para>
 </sect1>

 <sect1>
  <title>Installation Options in the DVD Menu</title>

  <para>
   These are the installation options in the DVD menu:</para>

  <variablelist>
   <varlistentry>
    <term>Install SLES for SAP Applications</term>
    <listitem>
     <para>
    The normal AutoYaST driven SLES for SAP Applications installation including
    SAP solution installation using the SAP Media-Changer for the customer (as
    described in "Installation of SUSE Linux Enterprise Server for SAP
    Applications").</para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Install SLES for SAP Applications — Basic</term>
    <listitem>
     <para>
    The normal AutoYaST driven SLES for SAP Applications installation without
    using the SAP Media-Changer for the customer (as described in "Installation
    of SUSE Linux Enterprise Server for SAP Applications — Basic").</para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Install SLES for SAP Applications — Manual Profile via USB</term>
    <listitem>
     <para>
    AutoYaST will look on USB devices for the XML configuration file. Plug in
    an USB device and store your config in a way like it is on the DVD in the "
    /rules" directory (as described in "Installation of SUSE Linux Enterprise
    Server for SAP Applications — Manual").
</para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>
 <sect1>
  <title>How to Install with Installation Media from the Network</title>
  <procedure>
   <step>
    <para>
     Copy the SUSE Linux Enterprise Server for SAP Applications DVD content to a
    webserver (for example myserver.com) into the directory "/srv/www/htdocs/
    mydir".</para>
   </step>
   <step>
    <para>Boot from DVD.</para>
   </step>
   <step>
    <para>Choose one of the bootmenu options and edit the command line: Remove the
    parameters "instmode=cd netsetup=0" from the commandline and change
    autoyast=file:/// to autoyast=http://myserver.com/mydir/ and add a
    parameter install=http://myserver.com/mydir</para>
   </step>
  </procedure>

  <para>
    That is all you need for a network installation. If you want to avoid using
    a DVD to bootstrap the system and boot from the network via PXE, read the
    documentation about setting up a PXE environment (<ulink url="http://www.suse.de/~ug/autoyast_doc/bootmedium.html"/>).</para>
 </sect1>

 <sect1>
  <title>Media Changer and Network Sources</title>
  <para>
If you want to put your media on a NFS Server, proceed as follows:</para>

  <procedure>
   <step>
    <para>
     Create a directory /srv/www/htdocs/sap_test on your installation
     server.
    </para>
   </step>
   <step>
    <para>
     Edit your /etc/exports file on the installation server by adding the
     following:
    </para>
    <screen>/srv/www/htdocs/sap_test *(ro,root_squash,sync)</screen>
   </step>
   <step>
    <para>
    Create a directory for every SAP Media you have,
    e.g. "/srv/www/htdocs/sap_test/sapcd1".
</para>
   </step>
   <step>
    <para>
     Copy the content of all SAP Medias to the corresponding directory.
</para>
   </step>
  </procedure>
  <para>
    Now the media changer can also install from your NFS server.
 </para>
 </sect1>
</chapter>
